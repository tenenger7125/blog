<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/blog/_next/static/media/648776ef3e7fbd6d-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" href="/blog/_next/static/media/6d91cd47f81bb898-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" as="image" href="/images/post/11/folder_structure.png"/><link rel="preload" as="image" href="/images/post/11/18_folder_structure.png"/><link rel="stylesheet" href="/blog/_next/static/css/551a832b045e3f2c.css" data-precedence="next"/><link rel="stylesheet" href="/blog/_next/static/css/c95096fc0885ed51.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/blog/_next/static/chunks/webpack-88908e4ab5d52d07.js"/><script src="/blog/_next/static/chunks/369afdfc-d73dfdb3aa573d6c.js" async=""></script><script src="/blog/_next/static/chunks/736-5478cc444e2b66fa.js" async=""></script><script src="/blog/_next/static/chunks/main-app-b2d50ad91fd5bbf5.js" async=""></script><script src="/blog/_next/static/chunks/946-7bb2a5e4afc6b1f7.js" async=""></script><script src="/blog/_next/static/chunks/280-b79fce320e74a5a4.js" async=""></script><script src="/blog/_next/static/chunks/app/layout-65bdc963c62dff52.js" async=""></script><script src="/blog/_next/static/chunks/468-6632127e4e879f09.js" async=""></script><script src="/blog/_next/static/chunks/app/posts/%5BpostId%5D/page-44527b51919db6d7.js" async=""></script><title>i18으로 다국어 기능 구현하기</title><meta name="description" content="i18next 라이브러리를 사용하여 다국어 기능을 구현했습니다. 또한, 서버사이드 렌더링, 클라이언트 사이드 렌더링에서 동작하도록 구현헀는 것을 기반으로 글을 작성했습니다."/><link rel="icon" href="/blog/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/blog/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_b19a82 __variable_00df45 bg-white text-gray-900"><header class="sticky z-[3] w-full border-b border-gray-100 bg-white transition-all px-3 py-4 top-0"><div class="m-auto max-w-8xl"><h2 class="font-yOnepickBold text-2xl font-bold"><a href="/blog">동그라미</a></h2></div></header><main class="relative z-[2] m-auto my-10 min-h-screen max-w-8xl bg-white px-4"><div class="flex gap-5"><div class="post prism prose max-w-full flex-1"><div class="relative my-4 h-160"><img alt="thumbnail" loading="lazy" decoding="async" data-nimg="fill" class="m-0 object-contain" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/blog/images/thumbnail/i18n.png"/></div><h1 id="도입"><a aria-hidden="true" tabindex="-1" href="#도입"><span class="icon icon-link"></span></a>도입</h1>
<ul>
<li>i18next로 다국어 기능을 도입해보자</li>
</ul>
<br/>
<h2 id="i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요"><a aria-hidden="true" tabindex="-1" href="#i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요"><span class="icon icon-link"></span></a>i18next로 다국어 기능을 구현하기 전에 어떤 방법을 고려했나요?</h2>
<ul>
<li>저는 단순히 다국어 기능을 구현하기 위해서 상수 파일을 만들어서 다국어 기능을 구현하고자 생각했습니다.</li>
</ul>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// constants</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> <span class="token constant">LANGUAGES</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token constant">LOGIN</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token constant">KR</span><span class="token operator">:</span> <span class="token string">&#x27;로그인 페이지에 오신것을 환영합니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    <span class="token constant">EN</span><span class="token operator">:</span> <span class="token string">&#x27;Welcome to Login Page&#x27;</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  <span class="token operator">...</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code></pre>
<ul>
<li>하지만 상수로 파일을 구현할 경우 조건식을 이용해서 다국어 기능을 구현해야했기때문에 코드 가독성 측면에서 좋지 않을 것으로 생각을 했습니다.</li>
<li>또한, 언어가 많아지면 조건식을 추가해야하기 때문에 유지보수차원에서 좋지 않을 것이라고 생각했습니다.</li>
<li>example<!-- -->
<ul>
<li><code>&lt;div&gt;{LOCALE === &#x27;KR&#x27; ? LANGUAGES.KR : LANGUAGES.EN}&lt;/div&gt;</code></li>
</ul>
</li>
</ul>
<h2 id="그래서-제가-접근방식은-무엇인가요"><a aria-hidden="true" tabindex="-1" href="#그래서-제가-접근방식은-무엇인가요"><span class="icon icon-link"></span></a>그래서 제가 접근방식은 무엇인가요?</h2>
<h3 id="i18next-react-i18next-사용했습니다"><a aria-hidden="true" tabindex="-1" href="#i18next-react-i18next-사용했습니다"><span class="icon icon-link"></span></a>i18next, react-i18next 사용했습니다.</h3>
<ul>
<li>
<p>우선 저는 다국어 기능을 구현하기 위해 하위 디렉토리로 어떤 언어를 사용하고 있는지 사용자가 알기 쉽도록 구현을 생각했습니다.</p>
</li>
<li>
<p><code>localhost:3000/kr</code>, <code>localhost:3000/en</code> 이런 형식으로 말이죠.</p>
</li>
<li>
<p>그래서 저는 nextjs 14버전 app router 환경에서 아래와 같이 폴더 구조를 설계했습니다.</p>
<img src="/images/post/11/folder_structure.png"/>
</li>
<li>
<p>이렇게 하면 서버, 클라이언트 환경에서 params로 URL에 있는 하위 디렉토리의 값인 locale을 얻어서 어떤 언어로 화면을 렌더링할지 기준으로 삼을 수 있습니다.</p>
</li>
<li>
<p>그런데 nextjs에서 <code>nextjs.config.mjs</code>에서 locale 설정을 할 수 있는 문서가 있는데 왜 이런 방법을 택하게 되었을까요?</p>
</li>
</ul>
<h4 id="nextjsconfigmjs에서-locale-설정하지-않은-이유"><a aria-hidden="true" tabindex="-1" href="#nextjsconfigmjs에서-locale-설정하지-않은-이유"><span class="icon icon-link"></span></a>nextjs.config.mjs에서 locale 설정하지 않은 이유</h4>
<ul>
<li>결론적으로 저는 app router 환경에서 프로젝트를 설계했고, 공식문서에서는 page router를 기준으로 설명을 했기 때문에 호환이 잘 되지 않은 이슈가 있어서 이 부분을 제외하게 되었습니다.</li>
<li>혹시나 몰라 문서를 참고해서 비슷하게 설계를 해보았지만, 하위 디렉토리를 변경하면 화면에서 찾을 수 없는 페이지에 접근했다는 404 오류코드가 발생해서 더이상 진행해보지 못했습니다.</li>
<li>설정을 할 수 있다면 자동으로 nextjs에서 locale을 관리해주기 떄문에 유지보수 측면에서 너무나도 좋았기 때문에 정말 아쉬운 부분으로 남게되었습니다.</li>
</ul>
<h4 id="i18next-react-i18next-설치해서-사용해보기"><a aria-hidden="true" tabindex="-1" href="#i18next-react-i18next-설치해서-사용해보기"><span class="icon icon-link"></span></a>i18next, react-i18next 설치해서 사용해보기</h4>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 이런식으로 말이죠.</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> i18next <span class="token keyword">from</span> <span class="token string">&#x27;i18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">i18next<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">  lng<span class="token operator">:</span> <span class="token string">&#x27;en&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// if you&#x27;re using a language detector, do not define the lng option</span>
</span><span class="code-line line-number" line="6">  debug<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  resources<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">    en<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">      translation<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">        key<span class="token operator">:</span> <span class="token string">&#x27;hello world&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token comment">// initialized and ready to go!</span>
</span><span class="code-line line-number" line="16"><span class="token comment">// i18next is already initialized, because the translation resources where passed via init function</span>
</span><span class="code-line line-number" line="17">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;output&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> i18next<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#x27;key&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<ul>
<li>만약 클라이언트사이드 렌더링에서 동작을 고려하는 프로젝트에서는 위의 방식을 사용만 해도 상관없습니다.</li>
<li>하지만 저는 클라이언트 사이드 렌더링과 서버 사이드 렌더링에 맞춰서 렌더링을 구현해야했기 때문에 별도의 작업이 필요했습니다.</li>
</ul>
<h3 id="클라이언트-사이드-렌더링에서의-react-i18next-사용"><a aria-hidden="true" tabindex="-1" href="#클라이언트-사이드-렌더링에서의-react-i18next-사용"><span class="icon icon-link"></span></a>클라이언트 사이드 렌더링에서의 react-i18next 사용</h3>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token comment">/* eslint-disable @typescript-eslint/await-thenable */</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> i18next <span class="token keyword">from</span> <span class="token string">&#x27;i18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token keyword">import</span> LanguageDetector <span class="token keyword">from</span> <span class="token string">&#x27;i18next-browser-languagedetector&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">import</span> resourcesToBackend <span class="token keyword">from</span> <span class="token string">&#x27;i18next-resources-to-backend&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">import</span> <span class="token punctuation">{</span> useTranslation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-i18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token keyword">import</span> <span class="token punctuation">{</span> initReactI18next <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-i18next/initReactI18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token keyword">import</span> <span class="token punctuation">{</span> getI18nOptions<span class="token punctuation">,</span> locales<span class="token punctuation">,</span> LocaleTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./setting&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token keyword">const</span> runOnServer <span class="token operator">=</span> <span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">&#x27;undefined&#x27;</span><span class="token punctuation">;</span> <span class="token comment">// 서버에서 동작하는지, 클라이언트에서 동작하는지 기준점.</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13">i18next
</span><span class="code-line line-number" line="14">  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>initReactI18next<span class="token punctuation">)</span> <span class="token comment">// react-i18next 으로 초기화</span>
</span><span class="code-line line-number" line="15">  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>LanguageDetector<span class="token punctuation">)</span> <span class="token comment">// 사용자 언어 찾기</span>
</span><span class="code-line line-number" line="16">  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">resourcesToBackend</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_locale<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> _namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./resources/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_namespace<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_locale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 초기 적용할 파일</span>
</span><span class="code-line line-number" line="17">  <span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">    <span class="token operator">...</span><span class="token function">getI18nOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">    lng<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// detect the language on the client</span>
</span><span class="code-line line-number" line="20">    detection<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">      order<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;path&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="22">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="23">    preload<span class="token operator">:</span> runOnServer <span class="token operator">?</span> locales <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="24">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="25">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="26">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;다국어 지원이 되지 않습니다.&#x27;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="27">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useClientTranslation</span> <span class="token operator">=</span> <span class="token punctuation">(</span>locale<span class="token operator">:</span> LocaleTypes<span class="token punctuation">,</span> namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="30">  <span class="token keyword">const</span> translation <span class="token operator">=</span> <span class="token function">useTranslation</span><span class="token punctuation">(</span>namespace<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="31">  <span class="token keyword">const</span> <span class="token punctuation">{</span> i18n <span class="token punctuation">}</span> <span class="token operator">=</span> translation<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33">  <span class="token keyword">if</span> <span class="token punctuation">(</span>runOnServer <span class="token operator">&amp;&amp;</span> locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="34">    i18n<span class="token punctuation">.</span><span class="token function">changeLanguage</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="35">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37">  <span class="token keyword">return</span> translation<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="38"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<ul>
<li>
<p>저는 수동으로 locale을 관리하기 때문에 자동으로 language를 설정하지 않도록 <code>lng: undefined,</code>를 추가했습니다.</p>
</li>
<li>
<p><code>preload: runOnServer ? locales : [],</code>를 추가해서 서버와 클라이언트에서 동작할 수 있도록 설정을 합니다.</p>
<ul>
<li>만약 서버에서 동작하는 거라면 기존 설정한 locales로 세팅을 합니다.</li>
<li>만약 클라이언트에서 동작하는 거라면 빈 배열로 세팅하여 클라이언트에서 동작할 때 동적으로 채워지도록, 즉 preload하지 않도록 세팅했습니다.</li>
</ul>
</li>
<li>
<p>다른 기능 추가는 별로 다를게 없습니다. 그러나 중요한 점은, 서버에서 동작하는 것인지 아닌지 판단하는 것이 필요합니다.</p>
</li>
<li>
<p>그리고 <code>useClientTranslation</code> 훅을 이용해서 다국어 기능을 구현할 때, 서버에서 돌아간다면 locale을 변경하는 로직을 추가했습니다.</p>
<ul>
<li>그 이유는 next.js 에서 <code>use client</code>를 최상단에 작성하더라도 서버에서 코드가 동작하기 때문에 아래와 같은 코드가 필요합니다.</li>
</ul>
</li>
</ul>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">if</span> <span class="token punctuation">(</span>runOnServer <span class="token operator">&amp;&amp;</span> locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  i18n<span class="token punctuation">.</span><span class="token function">changeLanguage</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 서버에서 실행되었다면 해당 locale로 언어를 변경한다.</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span></code></pre>
<h3 id="서버사이드-렌더링에서-react-i18next-사용"><a aria-hidden="true" tabindex="-1" href="#서버사이드-렌더링에서-react-i18next-사용"><span class="icon icon-link"></span></a>서버사이드 렌더링에서 react-i18next 사용</h3>
<ul>
<li>서버에서 다국어 기능을 미리 로드하여 빌드한 파일을 클라이언트에 페이지를 제공해야합니다.</li>
<li>그래서 초기에 미리 빌드할 다국어 파일을 로드를 해서, 클라이언트에 빌드된 페이지를 제공해야합니다.</li>
</ul>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token comment">/* eslint-disable @typescript-eslint/await-thenable */</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> <span class="token punctuation">{</span> createInstance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;i18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> resourcesToBackend <span class="token keyword">from</span> <span class="token string">&#x27;i18next-resources-to-backend&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token keyword">import</span> <span class="token punctuation">{</span> initReactI18next <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-i18next/initReactI18next&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token keyword">import</span> <span class="token punctuation">{</span> getI18nOptions<span class="token punctuation">,</span> LocaleTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./setting&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">const</span> <span class="token function-variable function">createI18next</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>locale<span class="token operator">:</span> LocaleTypes<span class="token punctuation">,</span> namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> i18nInstance <span class="token operator">=</span> <span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token keyword">await</span> i18nInstance
</span><span class="code-line line-number" line="11">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>initReactI18next<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="13">      <span class="token function">resourcesToBackend</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_locale<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> _namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./resources/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_namespace<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_locale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="15">    <span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token function">getI18nOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lng<span class="token operator">:</span> locale<span class="token punctuation">,</span> ns<span class="token operator">:</span> namespace <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17">  <span class="token keyword">return</span> i18nInstance<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useServerTranslation</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>locale<span class="token operator">:</span> LocaleTypes<span class="token punctuation">,</span> namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">  <span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">createI18next</span><span class="token punctuation">(</span>locale<span class="token punctuation">,</span> namespace<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">    t<span class="token operator">:</span> instance<span class="token punctuation">.</span><span class="token function">getFixedT</span><span class="token punctuation">(</span>locale<span class="token punctuation">,</span> namespace<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="24">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<ul>
<li>i18next에서는 인스턴스를 만들 수 있습니다.<!-- -->
<ul>
<li>인스턴스를 만드는 함수를 <code>useServerTranslation</code> 훅 호출시 인스턴스에 어떤 local과 namespace에 맞춰 어떤 다국어를 렌더링할지 미리 정합니다.</li>
</ul>
</li>
<li>해당 함수를 <code>useServerTranslation</code> 훅을 호출할 때 인스턴스를 만듭니다.<!-- -->
<ul>
<li>인스턴스를 만든 이후 파라미터로 전달받은 language, namespace로 실제로 어떤 파일을 렌더링할지 정합니다.</li>
</ul>
</li>
</ul>
<p>이렇게 하면 기본적으로 어떤 파일을 불러올지 정하고, 훅을 호출할 때 전달해준 파라미터로 실제로는 어떤 파일을 불러와 어떤 언어로 렌더링할지 미리 정할 수 있습니다.</p>
<h3 id="정적-파일-불러오기"><a aria-hidden="true" tabindex="-1" href="#정적-파일-불러오기"><span class="icon icon-link"></span></a>정적 파일 불러오기</h3>
<ul>
<li>폴더안에 언어별 정적파일을 생성해줍니다. 아래는 예시입니다.<!-- -->
<img src="/images/post/11/18_folder_structure.png"/>
</li>
</ul>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token property">&quot;title.label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;메인페이지입니다.&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">    <span class="token property">&quot;description.label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;메인페이지는 멋집니다&quot;</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span></code></pre>
<ul>
<li>저는 파일을 생성할 떄 depth로 텍스트를 분리하고자 했고, leaf 노드에는 끝이라는 것을 알려주기 위해 label을 붙이는 컨벤션을 유지했습니다.</li>
</ul>
<h3 id="사용하기"><a aria-hidden="true" tabindex="-1" href="#사용하기"><span class="icon icon-link"></span></a>사용하기</h3>
<h4 id="클라이언트-컴포넌트에서-사용하기"><a aria-hidden="true" tabindex="-1" href="#클라이언트-컴포넌트에서-사용하기"><span class="icon icon-link"></span></a>클라이언트 컴포넌트에서 사용하기</h4>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token string">&#x27;use client&#x27;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> <span class="token function-variable function">MainPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token operator">:</span> MainPageProps<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useClientTranslation</span><span class="token punctuation">(</span>locale<span class="token punctuation">,</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 어떤 파일을 불러올지 정하기.</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="7">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;body.title.label&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="8">    <span class="token operator">...</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token keyword">interface</span> <span class="token class-name">MainPageProps</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">  params<span class="token operator">:</span> <span class="token punctuation">{</span> locale<span class="token operator">:</span> LocaleTypes <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="서버-컴포넌트에서-사용하기"><a aria-hidden="true" tabindex="-1" href="#서버-컴포넌트에서-사용하기"><span class="icon icon-link"></span></a>서버 컴포넌트에서 사용하기</h4>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> <span class="token function-variable function">MainPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token operator">:</span> MainPageProps<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useServerTranslation</span><span class="token punctuation">(</span>locale<span class="token punctuation">,</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="5">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;body.title.label&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="6">    <span class="token operator">...</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token keyword">interface</span> <span class="token class-name">MainPageProps</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  params<span class="token operator">:</span> <span class="token punctuation">{</span> locale<span class="token operator">:</span> LocaleTypes <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span></code></pre>
<h2 id="마무리"><a aria-hidden="true" tabindex="-1" href="#마무리"><span class="icon icon-link"></span></a>마무리</h2>
<ul>
<li>app router 환경 에서는 <code>nextjs.config.mjs</code> 파일에서 locale 프로퍼티가 동작하지 않는다는 것입니다.<!-- -->
<ul>
<li>이것을 알기 위해서 얼마나 삽질을 했는지 모르겠습니다....ㅜㅜ</li>
</ul>
</li>
<li>이번 프로젝트에 도입하면서 처음 학습을 해보기도 해서 어려움을 많이 겪은 기술이었습니다.</li>
</ul></div><div class="relative max-w-60"><div class="sticky right-0 top-16 rounded-lg bg-white lg:hidden"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div><div class="sticky right-0 top-16 max-h-svh overflow-y-scroll scrollbar-hide max-lg:hidden"><div class="flex flex-col gap-2 border-l-2 border-gray-200"><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#도입" style="padding-left:10px">도입</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요" style="padding-left:20px">i18next로 다국어 기능을 구현하기 전에 어떤 방법을 고려했나요?</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#그래서-제가-접근방식은-무엇인가요" style="padding-left:20px">그래서 제가 접근방식은 무엇인가요?</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#i18next-react-i18next-사용했습니다" style="padding-left:30px">i18next, react-i18next 사용했습니다.</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#nextjsconfigmjs에서-locale-설정하지-않은-이유" style="padding-left:40px">nextjs.config.mjs에서 locale 설정하지 않은 이유</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#i18next-react-i18next-설치해서-사용해보기" style="padding-left:40px">i18next, react-i18next 설치해서 사용해보기</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#클라이언트-사이드-렌더링에서의-react-i18next-사용" style="padding-left:30px">클라이언트 사이드 렌더링에서의 react-i18next 사용</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#서버사이드-렌더링에서-react-i18next-사용" style="padding-left:30px">서버사이드 렌더링에서 react-i18next 사용</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#정적-파일-불러오기" style="padding-left:30px">정적 파일 불러오기</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#사용하기" style="padding-left:30px">사용하기</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#클라이언트-컴포넌트에서-사용하기" style="padding-left:40px">클라이언트 컴포넌트에서 사용하기</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#서버-컴포넌트에서-사용하기" style="padding-left:40px">서버 컴포넌트에서 사용하기</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#마무리" style="padding-left:20px">마무리</a></div></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></main><footer class="relative z-[1] h-48 w-full bg-gray-0 text-xs shadow-inner"><div class="m-auto max-w-8xl"><div class="h-inherit fixed bottom-0 z-[5] mx-auto flex w-full max-w-8xl flex-wrap items-center justify-between gap-4 px-3 py-4"><div class="flex w-full justify-between"><div class="flex flex-col gap-2"><h4 class="typo-xs700"><span>마크다운 블로그</span></h4><div>© <span>2025<!-- --> LEE_DONG_GYU, All rights reserved.</span></div></div><div><a href="https://github.com/tenenger7125/blog" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" class="h-6 w-6"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"></path></svg></a></div></div></div></div></footer><script src="/blog/_next/static/chunks/webpack-88908e4ab5d52d07.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/blog/_next/static/media/648776ef3e7fbd6d-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n2:HL[\"/blog/_next/static/media/6d91cd47f81bb898-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n3:HL[\"/blog/_next/static/css/551a832b045e3f2c.css\",\"style\"]\n4:HL[\"/blog/_next/static/css/c95096fc0885ed51.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[4338,[],\"\"]\n8:I[9677,[],\"\"]\na:I[1372,[],\"\"]\nb:I[2367,[\"946\",\"static/chunks/946-7bb2a5e4afc6b1f7.js\",\"280\",\"static/chunks/280-b79fce320e74a5a4.js\",\"185\",\"static/chunks/app/layout-65bdc963c62dff52.js\"],\"default\"]\nd:I[574,[],\"\"]\n9:[\"postId\",\"11\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L5\",null,{\"buildId\":\"yE1GW0L2j_o1p_-skvNzv\",\"assetPrefix\":\"/blog\",\"urlParts\":[\"\",\"posts\",\"11\"],\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"postId\",\"11\",\"d\"],{\"children\":[\"__PAGE__?{\\\"postId\\\":\\\"11\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"postId\",\"11\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/css/c95096fc0885ed51.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/css/551a832b045e3f2c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_b19a82 __variable_00df45 bg-white text-gray-900\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"relative z-[2] m-auto my-10 min-h-screen max-w-8xl bg-white px-4\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"relative z-[1] h-48 w-full bg-gray-0 text-xs shadow-inner\",\"children\":[\"$\",\"div\",null,{\"className\":\"m-auto max-w-8xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"h-inherit fixed bottom-0 z-[5] mx-auto flex w-full max-w-8xl flex-wrap items-center justify-between gap-4 px-3 py-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-2\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"typo-xs700\",\"children\":[\"$\",\"span\",null,{\"children\":\"마크다운 블로그\"}]}],[\"$\",\"div\",null,{\"children\":[\"© \",[\"$\",\"span\",null,{\"children\":[2025,\" LEE_DONG_GYU, All rights reserved.\"]}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/tenenger7125/blog\",\"rel\":\"noopener noreferrer\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"className\":\"h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8\"}]}]}]}]]}]}]}]}]]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]\n"])</script><script>self.__next_f.push([1,"f:I[5593,[\"468\",\"static/chunks/468-6632127e4e879f09.js\",\"654\",\"static/chunks/app/posts/%5BpostId%5D/page-44527b51919db6d7.js\"],\"Image\"]\n10:I[4356,[\"468\",\"static/chunks/468-6632127e4e879f09.js\",\"654\",\"static/chunks/app/posts/%5BpostId%5D/page-44527b51919db6d7.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"div\",null,{\"className\":\"flex gap-5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"post prism prose max-w-full flex-1\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative my-4 h-160\",\"children\":[\"$\",\"$Lf\",null,{\"alt\":\"thumbnail\",\"className\":\"m-0 object-contain\",\"src\":\"/blog/images/thumbnail/i18n.png\",\"fill\":true}]}],[[\"$\",\"h1\",null,{\"id\":\"도입\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#도입\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"도입\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"i18next로 다국어 기능을 도입해보자\"}],\"\\n\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"i18next로 다국어 기능을 구현하기 전에 어떤 방법을 고려했나요?\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"저는 단순히 다국어 기능을 구현하기 위해서 상수 파일을 만들어서 다국어 기능을 구현하고자 생각했습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// constants\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LANGUAGES\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LOGIN\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"KR\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'로그인 페이지에 오신것을 환영합니다.'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"EN\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Welcome to Login Page'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"하지만 상수로 파일을 구현할 경우 조건식을 이용해서 다국어 기능을 구현해야했기때문에 코드 가독성 측면에서 좋지 않을 것으로 생각을 했습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"또한, 언어가 많아지면 조건식을 추가해야하기 때문에 유지보수차원에서 좋지 않을 것이라고 생각했습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"example\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003cdiv\u003e{LOCALE === 'KR' ? LANGUAGES.KR : LANGUAGES.EN}\u003c/div\u003e\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"그래서-제가-접근방식은-무엇인가요\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#그래서-제가-접근방식은-무엇인가요\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"그래서 제가 접근방식은 무엇인가요?\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"i18next-react-i18next-사용했습니다\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#i18next-react-i18next-사용했습니다\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"i18next, react-i18next 사용했습니다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"우선 저는 다국어 기능을 구현하기 위해 하위 디렉토리로 어떤 언어를 사용하고 있는지 사용자가 알기 쉽도록 구현을 생각했습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"localhost:3000/kr\"}],\", \",[\"$\",\"code\",null,{\"children\":\"localhost:3000/en\"}],\" 이런 형식으로 말이죠.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"그래서 저는 nextjs 14버전 app router 환경에서 아래와 같이 폴더 구조를 설계했습니다.\"}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"/images/post/11/folder_structure.png\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"이렇게 하면 서버, 클라이언트 환경에서 params로 URL에 있는 하위 디렉토리의 값인 locale을 얻어서 어떤 언어로 화면을 렌더링할지 기준으로 삼을 수 있습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그런데 nextjs에서 \",[\"$\",\"code\",null,{\"children\":\"nextjs.config.mjs\"}],\"에서 locale 설정을 할 수 있는 문서가 있는데 왜 이런 방법을 택하게 되었을까요?\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"nextjsconfigmjs에서-locale-설정하지-않은-이유\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#nextjsconfigmjs에서-locale-설정하지-않은-이유\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"nextjs.config.mjs에서 locale 설정하지 않은 이유\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"결론적으로 저는 app router 환경에서 프로젝트를 설계했고, 공식문서에서는 page router를 기준으로 설명을 했기 때문에 호환이 잘 되지 않은 이슈가 있어서 이 부분을 제외하게 되었습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"혹시나 몰라 문서를 참고해서 비슷하게 설계를 해보았지만, 하위 디렉토리를 변경하면 화면에서 찾을 수 없는 페이지에 접근했다는 404 오류코드가 발생해서 더이상 진행해보지 못했습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"설정을 할 수 있다면 자동으로 nextjs에서 locale을 관리해주기 떄문에 유지보수 측면에서 너무나도 좋았기 때문에 정말 아쉬운 부분으로 남게되었습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"i18next-react-i18next-설치해서-사용해보기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#i18next-react-i18next-설치해서-사용해보기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"i18next, react-i18next 설치해서 사용해보기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 이런식으로 말이죠.\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" i18next \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"i18next\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"init\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  lng\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'en'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// if you're using a language detector, do not define the lng option\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  debug\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  resources\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    en\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"      translation\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"        key\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'hello world'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// initialized and ready to go!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// i18next is already initialized, because the translation resources where passed via init function\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"document\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getElementById\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'output'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"innerHTML \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" i18next\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'key'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"만약 클라이언트사이드 렌더링에서 동작을 고려하는 프로젝트에서는 위의 방식을 사용만 해도 상관없습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"하지만 저는 클라이언트 사이드 렌더링과 서버 사이드 렌더링에 맞춰서 렌더링을 구현해야했기 때문에 별도의 작업이 필요했습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"클라이언트-사이드-렌더링에서의-react-i18next-사용\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#클라이언트-사이드-렌더링에서의-react-i18next-사용\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"클라이언트 사이드 렌더링에서의 react-i18next 사용\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* eslint-disable @typescript-eslint/await-thenable */\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" i18next \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" LanguageDetector \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next-browser-languagedetector'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" resourcesToBackend \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next-resources-to-backend'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useTranslation \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react-i18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" initReactI18next \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react-i18next/initReactI18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" getI18nOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" locales\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" LocaleTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./setting'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" runOnServer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"typeof\"}],\" window \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'undefined'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 서버에서 동작하는지, 클라이언트에서 동작하는지 기준점.\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":\"i18next\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"use\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"initReactI18next\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// react-i18next 으로 초기화\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"use\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"LanguageDetector\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용자 언어 찾기\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"use\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resourcesToBackend\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"_locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" _namespace\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"./resources/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"_namespace\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"_locale\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\".json\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 초기 적용할 파일\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"init\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getI18nOptions\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    lng\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"undefined\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// detect the language on the client\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    detection\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"      order\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'path'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"    preload\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" runOnServer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],\" locales \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"catch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'다국어 지원이 되지 않습니다.'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"useClientTranslation\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" LocaleTypes\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" namespace\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" translation \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useTranslation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"namespace\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" i18n \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" translation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"runOnServer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":[\"    i18n\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"changeLanguage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"catch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" translation\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"저는 수동으로 locale을 관리하기 때문에 자동으로 language를 설정하지 않도록 \",[\"$\",\"code\",null,{\"children\":\"lng: undefined,\"}],\"를 추가했습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"preload: runOnServer ? locales : [],\"}],\"를 추가해서 서버와 클라이언트에서 동작할 수 있도록 설정을 합니다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"만약 서버에서 동작하는 거라면 기존 설정한 locales로 세팅을 합니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"만약 클라이언트에서 동작하는 거라면 빈 배열로 세팅하여 클라이언트에서 동작할 때 동적으로 채워지도록, 즉 preload하지 않도록 세팅했습니다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"다른 기능 추가는 별로 다를게 없습니다. 그러나 중요한 점은, 서버에서 동작하는 것인지 아닌지 판단하는 것이 필요합니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그리고 \",[\"$\",\"code\",null,{\"children\":\"useClientTranslation\"}],\" 훅을 이용해서 다국어 기능을 구현할 때, 서버에서 돌아간다면 locale을 변경하는 로직을 추가했습니다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"그 이유는 next.js 에서 \",[\"$\",\"code\",null,{\"children\":\"use client\"}],\"를 최상단에 작성하더라도 서버에서 코드가 동작하기 때문에 아래와 같은 코드가 필요합니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"runOnServer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  i18n\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"changeLanguage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"catch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 서버에서 실행되었다면 해당 locale로 언어를 변경한다.\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"서버사이드-렌더링에서-react-i18next-사용\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#서버사이드-렌더링에서-react-i18next-사용\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"서버사이드 렌더링에서 react-i18next 사용\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"서버에서 다국어 기능을 미리 로드하여 빌드한 파일을 클라이언트에 페이지를 제공해야합니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"그래서 초기에 미리 빌드할 다국어 파일을 로드를 해서, 클라이언트에 빌드된 페이지를 제공해야합니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* eslint-disable @typescript-eslint/await-thenable */\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" createInstance \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" resourcesToBackend \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'i18next-resources-to-backend'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" initReactI18next \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react-i18next/initReactI18next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" getI18nOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" LocaleTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./setting'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"createI18next\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" LocaleTypes\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" namespace\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" i18nInstance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createInstance\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" i18nInstance\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"use\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"initReactI18next\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"use\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resourcesToBackend\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"_locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" _namespace\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"./resources/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"_namespace\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"_locale\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\".json\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"init\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getI18nOptions\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" lng\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ns\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" namespace \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" i18nInstance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"useServerTranslation\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" LocaleTypes\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" namespace\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" instance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createI18next\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" namespace\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"    t\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getFixedT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" namespace\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"i18next에서는 인스턴스를 만들 수 있습니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"인스턴스를 만드는 함수를 \",[\"$\",\"code\",null,{\"children\":\"useServerTranslation\"}],\" 훅 호출시 인스턴스에 어떤 local과 namespace에 맞춰 어떤 다국어를 렌더링할지 미리 정합니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"해당 함수를 \",[\"$\",\"code\",null,{\"children\":\"useServerTranslation\"}],\" 훅을 호출할 때 인스턴스를 만듭니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"인스턴스를 만든 이후 파라미터로 전달받은 language, namespace로 실제로 어떤 파일을 렌더링할지 정합니다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이렇게 하면 기본적으로 어떤 파일을 불러올지 정하고, 훅을 호출할 때 전달해준 파라미터로 실제로는 어떤 파일을 불러와 어떤 언어로 렌더링할지 미리 정할 수 있습니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"정적-파일-불러오기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#정적-파일-불러오기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"정적 파일 불러오기\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"폴더안에 언어별 정적파일을 생성해줍니다. 아래는 예시입니다.\",\"\\n\",[\"$\",\"img\",null,{\"src\":\"/images/post/11/18_folder_structure.png\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"body\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"title.label\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"메인페이지입니다.\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"description.label\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"메인페이지는 멋집니다\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"저는 파일을 생성할 떄 depth로 텍스트를 분리하고자 했고, leaf 노드에는 끝이라는 것을 알려주기 위해 label을 붙이는 컨벤션을 유지했습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"사용하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#사용하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"사용하기\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"클라이언트-컴포넌트에서-사용하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#클라이언트-컴포넌트에서-사용하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"클라이언트 컴포넌트에서 사용하기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"MainPage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" params \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" MainPageProps\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" t \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useClientTranslation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"main\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 어떤 파일을 불러올지 정하기.\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"body.title.label\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MainPageProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  params\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" LocaleTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"서버-컴포넌트에서-사용하기\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#서버-컴포넌트에서-사용하기\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"서버 컴포넌트에서 사용하기\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"MainPage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" params \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" MainPageProps\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" t \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useServerTranslation\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"locale\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"main\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"body.title.label\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MainPageProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  params\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" locale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" LocaleTypes \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"마무리\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#마무리\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"마무리\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"app router 환경 에서는 \",[\"$\",\"code\",null,{\"children\":\"nextjs.config.mjs\"}],\" 파일에서 locale 프로퍼티가 동작하지 않는다는 것입니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"이것을 알기 위해서 얼마나 삽질을 했는지 모르겠습니다....ㅜㅜ\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"이번 프로젝트에 도입하면서 처음 학습을 해보기도 해서 어려움을 많이 겪은 기술이었습니다.\"}],\"\\n\"]}]]]}],[\"$\",\"$L10\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-2 border-l-2 border-gray-200\",\"children\":[[\"$\",\"a\",\"#도입\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#도입\",\"style\":{\"paddingLeft\":10},\"children\":\"도입\"}],[\"$\",\"a\",\"#i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#i18next로-다국어-기능을-구현하기-전에-어떤-방법을-고려했나요\",\"style\":{\"paddingLeft\":20},\"children\":\"i18next로 다국어 기능을 구현하기 전에 어떤 방법을 고려했나요?\"}],[\"$\",\"a\",\"#그래서-제가-접근방식은-무엇인가요\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#그래서-제가-접근방식은-무엇인가요\",\"style\":{\"paddingLeft\":20},\"children\":\"그래서 제가 접근방식은 무엇인가요?\"}],[\"$\",\"a\",\"#i18next-react-i18next-사용했습니다\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#i18next-react-i18next-사용했습니다\",\"style\":{\"paddingLeft\":30},\"children\":\"i18next, react-i18next 사용했습니다.\"}],[\"$\",\"a\",\"#nextjsconfigmjs에서-locale-설정하지-않은-이유\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#nextjsconfigmjs에서-locale-설정하지-않은-이유\",\"style\":{\"paddingLeft\":40},\"children\":\"nextjs.config.mjs에서 locale 설정하지 않은 이유\"}],[\"$\",\"a\",\"#i18next-react-i18next-설치해서-사용해보기\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#i18next-react-i18next-설치해서-사용해보기\",\"style\":{\"paddingLeft\":40},\"children\":\"i18next, react-i18next 설치해서 사용해보기\"}],[\"$\",\"a\",\"#클라이언트-사이드-렌더링에서의-react-i18next-사용\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#클라이언트-사이드-렌더링에서의-react-i18next-사용\",\"style\":{\"paddingLeft\":30},\"children\":\"클라이언트 사이드 렌더링에서의 react-i18next 사용\"}],[\"$\",\"a\",\"#서버사이드-렌더링에서-react-i18next-사용\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#서버사이드-렌더링에서-react-i18next-사용\",\"style\":{\"paddingLeft\":30},\"children\":\"서버사이드 렌더링에서 react-i18next 사용\"}],[\"$\",\"a\",\"#정적-파일-불러오기\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#정적-파일-불러오기\",\"style\":{\"paddingLeft\":30},\"children\":\"정적 파일 불러오기\"}],[\"$\",\"a\",\"#사용하기\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#사용하기\",\"style\":{\"paddingLeft\":30},\"children\":\"사용하기\"}],[\"$\",\"a\",\"#클라이언트-컴포넌트에서-사용하기\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#클라이언트-컴포넌트에서-사용하기\",\"style\":{\"paddingLeft\":40},\"children\":\"클라이언트 컴포넌트에서 사용하기\"}],[\"$\",\"a\",\"#서버-컴포넌트에서-사용하기\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#서버-컴포넌트에서-사용하기\",\"style\":{\"paddingLeft\":40},\"children\":\"서버 컴포넌트에서 사용하기\"}],[\"$\",\"a\",\"#마무리\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#마무리\",\"style\":{\"paddingLeft\":20},\"children\":\"마무리\"}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"i18으로 다국어 기능 구현하기\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"i18next 라이브러리를 사용하여 다국어 기능을 구현했습니다. 또한, 서버사이드 렌더링, 클라이언트 사이드 렌더링에서 동작하도록 구현헀는 것을 기반으로 글을 작성했습니다.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n6:null\n"])</script></body></html>