<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/blog/_next/static/media/648776ef3e7fbd6d-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" href="/blog/_next/static/media/6d91cd47f81bb898-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="stylesheet" href="/blog/_next/static/css/41abdbe48e03a02a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/blog/_next/static/chunks/webpack-ff573cfadf14b5c1.js"/><script src="/blog/_next/static/chunks/369afdfc-d73dfdb3aa573d6c.js" async=""></script><script src="/blog/_next/static/chunks/736-5478cc444e2b66fa.js" async=""></script><script src="/blog/_next/static/chunks/main-app-b2d50ad91fd5bbf5.js" async=""></script><script src="/blog/_next/static/chunks/210f6791-94a862e00aaeda6c.js" async=""></script><script src="/blog/_next/static/chunks/107a9d5d-44a1c8bf6f78b7cb.js" async=""></script><script src="/blog/_next/static/chunks/c20d8b6b-a2b461862cd024e7.js" async=""></script><script src="/blog/_next/static/chunks/965-f04f425a826934c2.js" async=""></script><script src="/blog/_next/static/chunks/824-6f8a7330ba0b5b45.js" async=""></script><script src="/blog/_next/static/chunks/133-9f3efd6a91b38f44.js" async=""></script><script src="/blog/_next/static/chunks/app/layout-cfe7f9ffbf7144f2.js" async=""></script><script src="/blog/_next/static/chunks/468-4a9c0fd7eb891a4c.js" async=""></script><script src="/blog/_next/static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js" async=""></script><title>useQuery vs useMutation</title><meta name="description" content="쿼리스트링을 사용한 GET 요청은 useQuery를 사용할까 아니면 useMutation을 사용할까 고민을 리뷰한 내용입니다."/><link rel="icon" href="/blog/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/blog/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_b19a82 __variable_00df45 flex min-h-screen flex-col bg-white text-gray-900"><header class="sticky z-[3] w-full border-b border-gray-100 bg-white transition-all px-3 py-4 top-0"><div class="m-auto max-w-8xl"><h2 class="font-yOnepickBold text-2xl font-bold"><a href="/blog">동그라미</a></h2></div></header><main class="relative z-[2] mx-auto mt-10 flex h-full max-w-8xl flex-1 bg-white px-4 pb-10"><div class="flex gap-5"><div class="post prism prose max-w-full flex-1"><div><a class="" href="/blog">Home</a><span class="mx-4">/</span><a class="" href="/blog/posts">Posts</a><span class="mx-4">/</span><a class="pointer-events-none !text-gray-900 decoration-transparent" href="/blog/post/8">Post 8</a></div><div class="relative my-4 h-96 w-full"><img alt="thumbnail" loading="lazy" decoding="async" data-nimg="fill" class="m-0 object-contain" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/blog/images/thumbnail/react_query.jpg"/></div><h1 id="도입"><a aria-hidden="true" tabindex="-1" href="#도입"><span class="icon icon-link"></span></a>도입</h1>
<ul>
<li>오래전 고민하여 작성한 코드와 최근에 고민하여 작성한 코드에 대해서 설명하고, 왜 그렇게 생각했는지를 비교를 리뷰 형태로 글을 작성했습니다.</li>
</ul>
<br/>
<h2 id="1년-6개월-전-2023년-6월에-있었던-일"><a aria-hidden="true" tabindex="-1" href="#1년-6개월-전-2023년-6월에-있었던-일"><span class="icon icon-link"></span></a>1년 6개월 전, 2023년 6월에 있었던 일</h2>
<ul>
<li>저는 막 부트캠프를 수료하고 여러 회사에 이력서를 작성과 제출을 하면서 취업준비생으로 있었던 상황입니다.</li>
<li>부트캠프 수료 전에 <a href="https://www.numble.it/deepdives/cooperation">넘블</a> 사이트를 통해 개인/팀 프로젝트에 참여하여 활발히 진행했었고, 그 결과로 좋은 인상을 넘블 대표님한테 주었는지 회사와 연계하여 소개해준다는 이메일을 받았습니다.</li>
<li>그렇게 소개받은 한 기업에서 과제를 수행하였고, 뮤직플레이어를 웹사이트로 만드는 과제를 수행했습니다.</li>
<li>상황은 이렇습니다. 음악 URL을 API를 통해 얻어오고, URL으로 음악데이터를 가져와 음악을 실행시켜주어야 했습니다. URL을 가져오는 방식은 <code>GET</code> 요청이고, <code>id</code>를 쿼리스트링으로 전달하여 음악 URL을 가져와야했습니다. 그래서 저는 아래와 같이 코드를 작성했습니다.</li>
</ul>
<!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$-->
<ul>
<li>
<p>우선 api를 요청하는 함수는 <code>/apis</code> 폴더 경로에 작성하여 코드를 분리시켰습니다.</p>
</li>
<li>
<p>그리고 뮤직플레이어 컴포넌트에서 음악 리스트를 클릭하면, API 통신으로 음악 URL을 가져오고, 또 URL을 API 통신으로 음악 재생 파일을 가져왔습니다.</p>
</li>
<li>
<p>여기서 가장 제가 고민이 많았던 것은, 음악 URL을 API 통신으로 데이터를 받아올 때, <code>useQuery</code>를 사용할지, <code>useMutation</code>을 사용할지 고민이 많았습니다.</p>
</li>
</ul>
<h3 id="usequery를-생각한-이유"><a aria-hidden="true" tabindex="-1" href="#usequery를-생각한-이유"><span class="icon icon-link"></span></a>useQuery를 생각한 이유</h3>
<ul>
<li>가장 첫번째로 <code>useQuery</code>를 생각한 이유는 아래와 같습니다.<!-- -->
<ul>
<li><code>useQuery</code>는 <code>GET</code> 요청을 하기 위한 훅으로, <code>react-query</code> 측에서 의도하는 방향이었습니다.</li>
</ul>
</li>
<li>하지만, 저는 useQuery를 사용할 수 없었습니다. 그 이유는 아래와 같습니다.<!-- -->
<ul>
<li>왜냐하면 <code>useQuery</code>는 <code>trigger</code>로 동작되지 않고, 컴포넌트가 렌더링될 떄 실행되기 때문에 사용자가 버튼을 클릭했을 때에 음악 URL을 가져오는 것에는 맞지 않았습니다.</li>
</ul>
</li>
</ul>
<h3 id="usemutation을-생각한-이유"><a aria-hidden="true" tabindex="-1" href="#usemutation을-생각한-이유"><span class="icon icon-link"></span></a>useMutation을 생각한 이유</h3>
<ul>
<li>두번째로 저는 <code>useMutation</code>을 생각했습니다. 그 이유는 아래와 같습니다.<!-- -->
<ul>
<li><code>useMutation</code>이 반환하는 <code>mutate</code> 함수는 <code>trigger</code>에 의해 동작되기 때문에, 재생 버튼을 눌렀을 때 음악 <code>URL</code>을 가져오는 것이 알맞다고 생각했습니다.</li>
</ul>
</li>
<li>하지만, 이번에도 <code>useMutation</code>을 사용할 수 없었습니다. 그 이유는 아래와 같습니다.<!-- -->
<ul>
<li><code>useMutation</code>은 <code>POST, PUT, PATCH, DELETE</code> 요청 할 때 사용하는 것이라고 명시해 뒀기 때문에, <code>react-query</code> 측에서 의도된 바와 방향성이 다르다고 생각했습니다.</li>
</ul>
</li>
</ul>
<h3 id="usequeryclient를-생각한-이유"><a aria-hidden="true" tabindex="-1" href="#usequeryclient를-생각한-이유"><span class="icon icon-link"></span></a>useQueryClient를 생각한 이유</h3>
<ul>
<li><code>useQueryClient</code>에서 제공하는 <code>queryClient</code>는 컴포넌트가 렌더링될때, 그리고 <code>trigger</code> 둘 다 알말게 상황에 맞춰 사용할 수 있었다고 생각했습니다.</li>
<li>그래서 저는 음악 플레이어에서 재생버튼을 눌렀을 때 <code>queryClient</code>로 음악 URL을 가져오도록 코드를 구현했습니다.</li>
</ul>
<!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$-->
<p>이 때 당시에 저는 굉장히 깊게 생각하여 내린 결론이었기 때문에 흡족했었던 기억이 있습니다.<br/>
<!-- -->그리고 1년 6개월이 지난 후 저는 같은 상황에 놓이게 되었습니다.</p>
<hr/>
<h2 id="새롭게-스타트업-취업-후-웹사이트-개발"><a aria-hidden="true" tabindex="-1" href="#새롭게-스타트업-취업-후-웹사이트-개발"><span class="icon icon-link"></span></a>새롭게 스타트업 취업 후 웹사이트 개발</h2>
<ul>
<li>저는 병원 내부에서 사용되는 웹사이트의 프론트개발을 맡게되었습니다.</li>
<li>회원가입시 중복되는 아이디가 있는지 확인하는 페이지를 작업해야했습니다.</li>
<li>그 전과 동일하게, <code>GET</code> 요청이면서 <code>id</code>를 쿼리스트링으로 전달하여 중복 유무에 대한 응답값을 가지고 에러 텍스트를 화면에 표현해줘야 했습니다.</li>
<li>이번에 저는 곧바로 <code>useMutation</code>을 사용했습니다. 이번에는 왜 이렇게 빨리 판단을 내리고 진행을 하게되었을까요?</li>
</ul>
<h3 id="usemutation으로-결정한-이유"><a aria-hidden="true" tabindex="-1" href="#usemutation으로-결정한-이유"><span class="icon icon-link"></span></a>useMutation으로 결정한 이유</h3>
<ol>
<li>
<p><code>useMutation</code>은 트리거 기반 동작에 최적화되어 있습니다.</p>
<ul>
<li><code>useMutation</code>의 <code>mutate</code>는 버튼과 같은 이벤트에 의해 트리거 되도록 설계되었습니다.</li>
<li>그렇기 떄문에 아이디 중복 유무를 확인할 때 버튼을 클릭하는 상황에 적합하다고 생각했습니다.</li>
</ul>
</li>
<li>
<p><code>useQuery</code>로 구현시 캐시 미활용</p>
<ul>
<li>멋지게도 <code>useQuery</code>로도 이벤트에 의해 트리거 되도록 구현할 수 있습니다. 그것은 <code>refetch</code> 함수를 이용하면 구현할 수 있습니다.</li>
<li>하지만, <code>refetch</code>함수의 경우 캐시된 데이터를 삭제하고 다시 <code>fetch</code>하기 때문에 캐시를 활용하지 못한다는 아쉬움이 생기기 때문에 저는 적합하지 않다고 생각했습니다.</li>
</ul>
</li>
<li>
<p><code>useQueryClient</code>로 구현할 시 코드 복잡성 증가</p>
<ul>
<li><code>queryClient</code>로 구현시 useQuery로 구현하는 것보다 더 코드가 복잡해졌기 때문에, 전혀 고려대상이 되지 않았습니다.</li>
</ul>
</li>
<li>
<p><code>react-query</code>는 <code>HTTP Method</code>에 의해 설계되지 않는다.</p>
<ul>
<li><code>useQuery</code>는 페이지 로딩 기반, <code>useMutation</code>은 트리거 기반으로 설계 철학으로 소개했기 때문에, <code>GET, POST, PUT, PATCH, DELETE</code>에 의해 결정을 내리지 않게 되었습니다.</li>
</ul>
</li>
</ol>
<p>아래는 <code>react-query v5</code> 버전에서 mutate에 대한 설명글을 인용했습니다.</p>
<!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$-->
<hr/>
<h2 id="마지막-소감"><a aria-hidden="true" tabindex="-1" href="#마지막-소감"><span class="icon icon-link"></span></a>마지막 소감</h2>
<ul>
<li>가장 초기에 기업과제를 한 이후, react-query를 1년 6개월 동안 사용하면서 경험을 쌓게 되었고, 이러한 결론까지 도달 할 수 있었습니다.</li>
<li>하지만 또 모릅니다. 1년 이상 또는 이하가 된다면 또다시 제 생각이 바뀌거나, <code>react-query</code>에서 설계 철학이 달라질 수 있습니다.</li>
<li>하지만 이렇게 하나씩 깨우쳐가면서 공부하는 것도 나중에 컴포넌트나 훅을 설계할 때 도움이 많이 되었던 경험이 있었기 때문에, 항상 배워가는 과정이라고 생각하면서 이 글을 마칩니다.</li>
</ul></div><div class="relative max-w-60"><div class="sticky right-0 top-16 rounded-lg bg-white lg:hidden"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div><div class="sticky right-0 top-16 max-h-svh overflow-y-scroll scrollbar-hide max-lg:hidden"><div class="flex flex-col gap-2 border-l-2 border-gray-200"><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#도입" style="padding-left:10px">도입</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#1년-6개월-전-2023년-6월에-있었던-일" style="padding-left:20px">1년 6개월 전, 2023년 6월에 있었던 일</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#usequery를-생각한-이유" style="padding-left:30px">useQuery를 생각한 이유</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#usemutation을-생각한-이유" style="padding-left:30px">useMutation을 생각한 이유</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#usequeryclient를-생각한-이유" style="padding-left:30px">useQueryClient를 생각한 이유</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#새롭게-스타트업-취업-후-웹사이트-개발" style="padding-left:20px">새롭게 스타트업 취업 후 웹사이트 개발</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#usemutation으로-결정한-이유" style="padding-left:30px">useMutation으로 결정한 이유</a><a class="block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300" href="#마지막-소감" style="padding-left:20px">마지막 소감</a></div></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></main><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><footer class="relative z-[1] h-48 w-full bg-gray-0 text-xs shadow-inner"><div class="m-auto max-w-8xl"><div class="h-inherit fixed bottom-0 z-[5] mx-auto flex w-full max-w-8xl flex-wrap items-center justify-between gap-4 px-3 py-4"><div class="flex w-full justify-between"><div class="flex flex-col gap-2"><h4 class="typo-xs700"><span>동그라미 블로그</span></h4><div>© <span>2025<!-- --> LEE_DONG_GYU, All rights reserved.</span></div></div><div><a href="https://github.com/tenenger7125/blog" rel="noopener noreferrer"><span class="tw-preflight w-auto h-auto"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" class="h-6 w-6"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"></path></svg></span></a></div></div></div></div></footer><script src="/blog/_next/static/chunks/webpack-ff573cfadf14b5c1.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/blog/_next/static/media/648776ef3e7fbd6d-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n2:HL[\"/blog/_next/static/media/6d91cd47f81bb898-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n3:HL[\"/blog/_next/static/css/41abdbe48e03a02a.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[4338,[],\"\"]\n7:I[9677,[],\"\"]\n9:I[1372,[],\"\"]\na:I[9030,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"133\",\"static/chunks/133-9f3efd6a91b38f44.js\",\"185\",\"static/chunks/app/layout-cfe7f9ffbf7144f2.js\"],\"default\"]\nb:I[6335,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"default\"]\nc:\"$Sreact.suspense\"\nd:I[4802,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"BailoutToCSR\"]\ne:I[3389,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"default\"]\n10:I[574,[],\"\"]\n8:[\"postId\",\"8\",\"d\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"xWhbRtx_wLZAOxkdD1vrn\",\"assetPrefix\":\"/blog\",\"urlParts\":[\"\",\"post\",\"8\"],\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"postId\",\"8\",\"d\"],{\"children\":[\"__PAGE__?{\\\"postId\\\":\\\"8\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"post\",{\"children\":[[\"postId\",\"8\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/css/41abdbe48e03a02a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$La\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_b19a82 __variable_00df45 flex min-h-screen flex-col bg-white text-gray-900\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"relative z-[2] mx-auto mt-10 flex h-full max-w-8xl flex-1 bg-white px-4 pb-10\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}],[\"$\",\"$c\",null,{\"fallback\":null,\"children\":[\"$\",\"$Ld\",null,{\"reason\":\"next/dynamic\",\"children\":[\"$\",\"$Le\",null,{}]}]}],[\"$\",\"footer\",null,{\"className\":\"relative z-[1] h-48 w-full bg-gray-0 text-xs shadow-inner\",\"children\":[\"$\",\"div\",null,{\"className\":\"m-auto max-w-8xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"h-inherit fixed bottom-0 z-[5] mx-auto flex w-full max-w-8xl flex-wrap items-center justify-between gap-4 px-3 py-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-2\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"typo-xs700\",\"children\":[\"$\",\"span\",null,{\"children\":\"동그라미 블로그\"}]}],[\"$\",\"div\",null,{\"children\":[\"© \",[\"$\",\"span\",null,{\"children\":[2025,\" LEE_DONG_GYU, All rights reserved.\"]}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/tenenger7125/blog\",\"rel\":\"noopener noreferrer\",\"children\":[\"$\",\"span\",null,{\"className\":\"tw-preflight w-auto h-auto\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"className\":\"h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8\"}]}]}]}]}]]}]}]}]}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.fragment\"\n13:I[6280,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"\"]\n14:I[5593,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"Image\"]\n15:I[48,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"default\"]\n16:I[896,[\"209\",\"static/chunks/210f6791-94a862e00aaeda6c.js\",\"183\",\"static/chunks/107a9d5d-44a1c8bf6f78b7cb.js\",\"261\",\"static/chunks/c20d8b6b-a2b461862cd024e7.js\",\"965\",\"static/chunks/965-f04f425a826934c2.js\",\"824\",\"static/chunks/824-6f8a7330ba0b5b45.js\",\"468\",\"static/chunks/468-4a9c0fd7eb891a4c.js\",\"643\",\"static/chunks/app/post/%5BpostId%5D/page-8c364105fc807a70.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"div\",null,{\"className\":\"flex gap-5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"post prism prose max-w-full flex-1\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"$12\",\"0\",{\"children\":[false,[\"$\",\"$L13\",\".$0\",{\"className\":\"\",\"href\":\"/\",\"children\":\"Home\"}]]}],[\"$\",\"$12\",\"1\",{\"children\":[[\"$\",\"span\",null,{\"className\":\"mx-4\",\"children\":\"/\"}],[\"$\",\"$L13\",\".$1\",{\"className\":\"\",\"href\":\"/posts\",\"children\":\"Posts\"}]]}],[\"$\",\"$12\",\"2\",{\"children\":[[\"$\",\"span\",null,{\"className\":\"mx-4\",\"children\":\"/\"}],[\"$\",\"$L13\",\".$2\",{\"className\":\"pointer-events-none !text-gray-900 decoration-transparent\",\"href\":\"/post/8\",\"children\":\"Post 8\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"relative my-4 h-96 w-full\",\"children\":[\"$\",\"$L14\",null,{\"alt\":\"thumbnail\",\"className\":\"m-0 object-contain\",\"src\":\"/blog/images/thumbnail/react_query.jpg\",\"fill\":true}]}],[[\"$\",\"h1\",null,{\"id\":\"도입\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#도입\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"도입\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"오래전 고민하여 작성한 코드와 최근에 고민하여 작성한 코드에 대해서 설명하고, 왜 그렇게 생각했는지를 비교를 리뷰 형태로 글을 작성했습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"1년-6개월-전-2023년-6월에-있었던-일\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#1년-6개월-전-2023년-6월에-있었던-일\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1년 6개월 전, 2023년 6월에 있었던 일\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"저는 막 부트캠프를 수료하고 여러 회사에 이력서를 작성과 제출을 하면서 취업준비생으로 있었던 상황입니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"부트캠프 수료 전에 \",[\"$\",\"a\",null,{\"href\":\"https://www.numble.it/deepdives/cooperation\",\"children\":\"넘블\"}],\" 사이트를 통해 개인/팀 프로젝트에 참여하여 활발히 진행했었고, 그 결과로 좋은 인상을 넘블 대표님한테 주었는지 회사와 연계하여 소개해준다는 이메일을 받았습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"그렇게 소개받은 한 기업에서 과제를 수행하였고, 뮤직플레이어를 웹사이트로 만드는 과제를 수행했습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"상황은 이렇습니다. 음악 URL을 API를 통해 얻어오고, URL으로 음악데이터를 가져와 음악을 실행시켜주어야 했습니다. URL을 가져오는 방식은 \",[\"$\",\"code\",null,{\"children\":\"GET\"}],\" 요청이고, \",[\"$\",\"code\",null,{\"children\":\"id\"}],\"를 쿼리스트링으로 전달하여 음악 URL을 가져와야했습니다. 그래서 저는 아래와 같이 코드를 작성했습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$c\",null,{\"fallback\":null,\"children\":[\"$\",\"$Ld\",null,{\"reason\":\"next/dynamic\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// /apis/music.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" music \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getMusicList\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"musicService\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token generic-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token generic class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"MusicListType\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MUSIC\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getMusicURL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"musicId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"musicService\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token generic-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token generic class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"MusicURLType\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MUSIC\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"musicId\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"우선 api를 요청하는 함수는 \",[\"$\",\"code\",null,{\"children\":\"/apis\"}],\" 폴더 경로에 작성하여 코드를 분리시켰습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"그리고 뮤직플레이어 컴포넌트에서 음악 리스트를 클릭하면, API 통신으로 음악 URL을 가져오고, 또 URL을 API 통신으로 음악 재생 파일을 가져왔습니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기서 가장 제가 고민이 많았던 것은, 음악 URL을 API 통신으로 데이터를 받아올 때, \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"를 사용할지, \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"을 사용할지 고민이 많았습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"usequery를-생각한-이유\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#usequery를-생각한-이유\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"useQuery를 생각한 이유\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"가장 첫번째로 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"를 생각한 이유는 아래와 같습니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 \",[\"$\",\"code\",null,{\"children\":\"GET\"}],\" 요청을 하기 위한 훅으로, \",[\"$\",\"code\",null,{\"children\":\"react-query\"}],\" 측에서 의도하는 방향이었습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"하지만, 저는 useQuery를 사용할 수 없었습니다. 그 이유는 아래와 같습니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"왜냐하면 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 \",[\"$\",\"code\",null,{\"children\":\"trigger\"}],\"로 동작되지 않고, 컴포넌트가 렌더링될 떄 실행되기 때문에 사용자가 버튼을 클릭했을 때에 음악 URL을 가져오는 것에는 맞지 않았습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"usemutation을-생각한-이유\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#usemutation을-생각한-이유\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"useMutation을 생각한 이유\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"두번째로 저는 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"을 생각했습니다. 그 이유는 아래와 같습니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"이 반환하는 \",[\"$\",\"code\",null,{\"children\":\"mutate\"}],\" 함수는 \",[\"$\",\"code\",null,{\"children\":\"trigger\"}],\"에 의해 동작되기 때문에, 재생 버튼을 눌렀을 때 음악 \",[\"$\",\"code\",null,{\"children\":\"URL\"}],\"을 가져오는 것이 알맞다고 생각했습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"하지만, 이번에도 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"을 사용할 수 없었습니다. 그 이유는 아래와 같습니다.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"은 \",[\"$\",\"code\",null,{\"children\":\"POST, PUT, PATCH, DELETE\"}],\" 요청 할 때 사용하는 것이라고 명시해 뒀기 때문에, \",[\"$\",\"code\",null,{\"children\":\"react-query\"}],\" 측에서 의도된 바와 방향성이 다르다고 생각했습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"usequeryclient를-생각한-이유\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#usequeryclient를-생각한-이유\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"useQueryClient를 생각한 이유\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQueryClient\"}],\"에서 제공하는 \",[\"$\",\"code\",null,{\"children\":\"queryClient\"}],\"는 컴포넌트가 렌더링될때, 그리고 \",[\"$\",\"code\",null,{\"children\":\"trigger\"}],\" 둘 다 알말게 상황에 맞춰 사용할 수 있었다고 생각했습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"그래서 저는 음악 플레이어에서 재생버튼을 눌렀을 때 \",[\"$\",\"code\",null,{\"children\":\"queryClient\"}],\"로 음악 URL을 가져오도록 코드를 구현했습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$c\",null,{\"fallback\":null,\"children\":[\"$\",\"$Ld\",null,{\"reason\":\"next/dynamic\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-ts\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ts code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" musicURL \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  queryClient\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token generic-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getQueryData\"}],[\"$\",\"span\",null,{\"className\":\"token generic class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"MusicURLType\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"QUERY_KEY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MUSIC\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" title\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"??\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" queryClient\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetchQuery\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    queryKey\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"QUERY_KEY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MUSIC\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" title\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"queryFn\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" music\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getMusicURL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    staleTime\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"Infinity\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    cacheTime\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"Infinity\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"??\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ...\"}],\"\\n\"]}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 때 당시에 저는 굉장히 깊게 생각하여 내린 결론이었기 때문에 흡족했었던 기억이 있습니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"그리고 1년 6개월이 지난 후 저는 같은 상황에 놓이게 되었습니다.\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"새롭게-스타트업-취업-후-웹사이트-개발\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#새롭게-스타트업-취업-후-웹사이트-개발\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"새롭게 스타트업 취업 후 웹사이트 개발\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"저는 병원 내부에서 사용되는 웹사이트의 프론트개발을 맡게되었습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"회원가입시 중복되는 아이디가 있는지 확인하는 페이지를 작업해야했습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"그 전과 동일하게, \",[\"$\",\"code\",null,{\"children\":\"GET\"}],\" 요청이면서 \",[\"$\",\"code\",null,{\"children\":\"id\"}],\"를 쿼리스트링으로 전달하여 중복 유무에 대한 응답값을 가지고 에러 텍스트를 화면에 표현해줘야 했습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"이번에 저는 곧바로 \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"을 사용했습니다. 이번에는 왜 이렇게 빨리 판단을 내리고 진행을 하게되었을까요?\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"usemutation으로-결정한-이유\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#usemutation으로-결정한-이유\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"useMutation으로 결정한 이유\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"은 트리거 기반 동작에 최적화되어 있습니다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"의 \",[\"$\",\"code\",null,{\"children\":\"mutate\"}],\"는 버튼과 같은 이벤트에 의해 트리거 되도록 설계되었습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"그렇기 떄문에 아이디 중복 유무를 확인할 때 버튼을 클릭하는 상황에 적합하다고 생각했습니다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"로 구현시 캐시 미활용\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"멋지게도 \",[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"로도 이벤트에 의해 트리거 되도록 구현할 수 있습니다. 그것은 \",[\"$\",\"code\",null,{\"children\":\"refetch\"}],\" 함수를 이용하면 구현할 수 있습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"하지만, \",[\"$\",\"code\",null,{\"children\":\"refetch\"}],\"함수의 경우 캐시된 데이터를 삭제하고 다시 \",[\"$\",\"code\",null,{\"children\":\"fetch\"}],\"하기 때문에 캐시를 활용하지 못한다는 아쉬움이 생기기 때문에 저는 적합하지 않다고 생각했습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQueryClient\"}],\"로 구현할 시 코드 복잡성 증가\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"queryClient\"}],\"로 구현시 useQuery로 구현하는 것보다 더 코드가 복잡해졌기 때문에, 전혀 고려대상이 되지 않았습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"react-query\"}],\"는 \",[\"$\",\"code\",null,{\"children\":\"HTTP Method\"}],\"에 의해 설계되지 않는다.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useQuery\"}],\"는 페이지 로딩 기반, \",[\"$\",\"code\",null,{\"children\":\"useMutation\"}],\"은 트리거 기반으로 설계 철학으로 소개했기 때문에, \",[\"$\",\"code\",null,{\"children\":\"GET, POST, PUT, PATCH, DELETE\"}],\"에 의해 결정을 내리지 않게 되었습니다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"아래는 \",[\"$\",\"code\",null,{\"children\":\"react-query v5\"}],\" 버전에서 mutate에 대한 설명글을 인용했습니다.\"]}],\"\\n\",[\"$\",\"$c\",null,{\"fallback\":null,\"children\":[\"$\",\"$Ld\",null,{\"reason\":\"next/dynamic\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[\"The mutation \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" you can call with variables to trigger the mutation and optionally hooks on additional callback options.\\n\"]}]}]}]}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"마지막-소감\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#마지막-소감\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"마지막 소감\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"가장 초기에 기업과제를 한 이후, react-query를 1년 6개월 동안 사용하면서 경험을 쌓게 되었고, 이러한 결론까지 도달 할 수 있었습니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"하지만 또 모릅니다. 1년 이상 또는 이하가 된다면 또다시 제 생각이 바뀌거나, \",[\"$\",\"code\",null,{\"children\":\"react-query\"}],\"에서 설계 철학이 달라질 수 있습니다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"하지만 이렇게 하나씩 깨우쳐가면서 공부하는 것도 나중에 컴포넌트나 훅을 설계할 때 도움이 많이 되었던 경험이 있었기 때문에, 항상 배워가는 과정이라고 생각하면서 이 글을 마칩니다.\"}],\"\\n\"]}]]]}],[\"$\",\"$L16\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-2 border-l-2 border-gray-200\",\"children\":[[\"$\",\"a\",\"#도입\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#도입\",\"style\":{\"paddingLeft\":10},\"children\":\"도입\"}],[\"$\",\"a\",\"#1년-6개월-전-2023년-6월에-있었던-일\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#1년-6개월-전-2023년-6월에-있었던-일\",\"style\":{\"paddingLeft\":20},\"children\":\"1년 6개월 전, 2023년 6월에 있었던 일\"}],[\"$\",\"a\",\"#usequery를-생각한-이유\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#usequery를-생각한-이유\",\"style\":{\"paddingLeft\":30},\"children\":\"useQuery를 생각한 이유\"}],[\"$\",\"a\",\"#usemutation을-생각한-이유\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#usemutation을-생각한-이유\",\"style\":{\"paddingLeft\":30},\"children\":\"useMutation을 생각한 이유\"}],[\"$\",\"a\",\"#usequeryclient를-생각한-이유\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#usequeryclient를-생각한-이유\",\"style\":{\"paddingLeft\":30},\"children\":\"useQueryClient를 생각한 이유\"}],[\"$\",\"a\",\"#새롭게-스타트업-취업-후-웹사이트-개발\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#새롭게-스타트업-취업-후-웹사이트-개발\",\"style\":{\"paddingLeft\":20},\"children\":\"새롭게 스타트업 취업 후 웹사이트 개발\"}],[\"$\",\"a\",\"#usemutation으로-결정한-이유\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#usemutation으로-결정한-이유\",\"style\":{\"paddingLeft\":30},\"children\":\"useMutation으로 결정한 이유\"}],[\"$\",\"a\",\"#마지막-소감\",{\"className\":\"block cursor-pointer break-all border-l-2 border-transparent py-1 hover:border-blue-600 hover:text-blue-300\",\"href\":\"#마지막-소감\",\"style\":{\"paddingLeft\":20},\"children\":\"마지막 소감\"}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"useQuery vs useMutation\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"쿼리스트링을 사용한 GET 요청은 useQuery를 사용할까 아니면 useMutation을 사용할까 고민을 리뷰한 내용입니다.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script></body></html>